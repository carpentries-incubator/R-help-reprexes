<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>RRRRR, I’m stuck!: Minimal Reproducible Data</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/incubator/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicons/incubator/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicons/incubator/favicon-16x16.png"><link rel="manifest" href="favicons/incubator/site.webmanifest"><link rel="mask-icon" href="favicons/incubator/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/4-minimal-reproducible-data.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      RRRRR, I’m stuck!
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            RRRRR, I’m stuck!
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  RRRRR, I’m stuck!
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 61%" class="percentage">
    61%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 61%" aria-valuenow="61" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/4-minimal-reproducible-data.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="1-intro-reproducible-examples.html">1. What is a reprex and why is it useful?</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="2-identify-the-problem.html">2. Identify the problem and make a plan</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="3-minimal-reproducible-code.html">3. Minimal Reproducible Code</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        4. Minimal Reproducible Data
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#what-is-a-minimal-reproducible-dataset-and-why-do-i-need-it">3.1 What is a minimal reproducible dataset and why do I need
it?</a></li>
<li><a href="#can-i-just-use-my-own-data">3.2 Can I just use my own data?</a></li>
<li><a href="#how-do-i-create-a-minimal-reproducible-dataset">3.3 How do I create a minimal reproducible dataset?</a></li>
<li><a href="#creating-a-dummy-dataset-from-scratch">3.4 Creating a “dummy” dataset from scratch</a></li>
<li><a href="#identifying-the-key-elements-of-your-data">3.5 Identifying the key elements of your data</a></li>
<li><a href="#using-your-own-data-set">3.6 Using your own data set</a></li>
<li><a href="#using-an-r-build-dataset">3.7 Using an R-build dataset</a></li>
<li><a href="#bonus-additional-practice">Bonus: Additional Practice</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="5-asking-your-question.html">5. Asking your question</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="3-minimal-reproducible-code.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="5-asking-your-question.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="3-minimal-reproducible-code.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Minimal Reproducible
        </a>
        <a class="chapter-link float-end" href="5-asking-your-question.html" rel="next">
          Next: Asking your question...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Minimal Reproducible Data</h1>
        <p>Last updated on 2025-06-10 |

        <a href="https://github.com/carpentries-incubator/R-help-reprexes/edit/main/episodes/4-minimal-reproducible-data.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>What is a minimal reproducible dataset, and why do I need it?</li>
<li>How do I create a minimal reproducible dataset?</li>
<li>Can I just use my own data?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Describe a minimal reproducible dataset</li>
<li>Identify the aspects of your data necessary to replicate your
issue</li>
<li>Create a dataset from scratch to replicate your issue</li>
<li>Share your own dataset in a way that is minimal, accessible, and
reproducible</li>
<li>Subset an existing dataset to replicate your issue</li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="what-is-a-minimal-reproducible-dataset-and-why-do-i-need-it">3.1 What is a minimal reproducible dataset and why do I need
it?<a class="anchor" aria-label="anchor" href="#what-is-a-minimal-reproducible-dataset-and-why-do-i-need-it"></a></h2>
<hr class="half-width"><p>Now that you have narrowed down your problem area and stripped down
your code to make it minimal we need to ensure it is reproducible; this
means it needs to be accessible and runnable such that anyone else can
copy-paste it into their system, run the code, and replicate your issue.
Importantly, an <strong>example code will always require example
data</strong> in order to run! Therefore, <strong>every reprex requires
you to provide a minimal reproducible dataset to use with the
code</strong>.</p>

<p>Furthermore, as we have seen previously, sometimes the source of the
problem isn’t actually your code, but rather your data! By providing an
example dataset that, when used in your example code, still replicates
your issue, you also <strong>give your helper the opportunity to better
investigate and manipulate that data</strong> to fix your issue. It
would be great if we could give the helper our entire computer so they
could just take over where we left off, but usually we can’t.</p>
<p>Just as we did with our code, when providing such an example dataset
we also want to make sure we keep it minimal–free of unnecessary data.
This will allow your helper to more clearly see what the data looks like
and what the source of your issue may be. Furthermore, it will allow you
to not only better understand your data but also potentially work out
the source of your issue. When extraneous information is removed and
only the parts that replicate the issue are kept, we can begin to see
where the issues arise.</p>
<p>In short, a minimal reproducible dataset must be:</p>
<ul><li>
<strong>minimal</strong>: it only contains the necessary information
to run your minimal code. You can also think of this as being
<strong>relevant</strong> to the problem: keep only what is
necessary.</li>
<li>
<strong>reproducible</strong>: it must be
<strong>accessible</strong> to someone without your computer, and it
must consistently replicate your output/issue. This means it also needs
to be <strong>complete</strong>, meaning there are no dependencies that
have been omitted.</li>
</ul><div id="remember-your-helper-may-not-be-in-the-room-with-you-or-have-access-to-your-computer-and-the-files-that-are-on-it" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="remember-your-helper-may-not-be-in-the-room-with-you-or-have-access-to-your-computer-and-the-files-that-are-on-it" class="callout-inner">
<h3 class="callout-title">Remember: your helper may not be in the room with you or have access to your computer and the files that are on
it!</h3>
<div class="callout-content">
<p>You might be used to always uploading data from separate files, but
helpers can’t access those files. Even if you sent someone a file, they
would need to put it in the right directory, make sure to load it in
exactly the same way, make sure their computer can open it, etc. Since
the goal is to make everyone’s lives as easy as possible, we need to
think about our data in a different way–as a dummy object created in the
script itself.</p>
</div>
</div>
</div>
<div id="pro-tip" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="pro-tip" class="callout-inner">
<h3 class="callout-title">Pro-tip</h3>
<div class="callout-content">
<p>An example of what minimal reproducible examples look like can also
be found in the <code>?help</code> section, in R Studio. Just scroll all
the way down to where there are examples listed. These will usually be
minimal and reproducible.</p>
<p>For example, let’s look at the function <code>mean</code>:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">mean</span></span></code></pre>
</div>
<p>We see examples that can be run directly on the console, with no
additional code.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">50</span><span class="op">)</span></span>
<span><span class="va">xm</span> <span class="op">&lt;-</span> <span class="fu">mean</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="fu">c</span><span class="op">(</span><span class="va">xm</span>, <span class="fu">mean</span><span class="op">(</span><span class="va">x</span>, trim <span class="op">=</span> <span class="fl">0.10</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 8.75 5.50</code></pre>
</div>
<p>In this case, x is the dummy dataset consisting of just 1 variable.
Notice how it was created as part of the example.</p>
</div>
</div>
</div>
<div id="exercise-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-1" class="callout-inner">
<h3 class="callout-title">Exercise 1</h3>
<div class="callout-content">
<p>These datasets are not well suited for use in a reprex. For each one,
try to reproduce the dataset on your own in R (copy-paste). Does it
work? What happened? Explain.</p>
<ol style="list-style-type: upper-alpha"><li><img src="fig/data_screenshot.png" alt="Screenshot of the ratdat comple_old dataset." class="figure"></li>
<li><code>sample_data &lt;- read_csv(“/Users/kaija/Desktop/RProjects/ResearchProject/data/sample_dataset.csv”)</code></li>
<li><code>dput(complete_old[1:100,])</code></li>
<li><code>sample_data &lt;- data.frame(species = species_vector, weight = c(10, 25, 14, 26, 30, 17))</code></li>
</ol></div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<ol style="list-style-type: upper-alpha"><li>Not reproducible because it is a screenshot.</li>
<li>Not reproducible because it is a path to a file that only exists on
someone else’s computer and therefore you do not have access to it using
that path.</li>
<li>Not minimal, it has far too many columns and probably too many rows.
It is also not reproducible because we were not given the source for
<code>complete_old</code>.</li>
<li>Not reproducible because we are not given the source for
<code>species_vector</code>.</li>
</ol></div>
</div>
</div>
</div>
<div id="exercise-2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-2" class="callout-inner">
<h3 class="callout-title">Exercise 2</h3>
<div class="callout-content">
<p>Let’s say we want to know the average weight of all the species in
our <code>rodents</code> dataset. We try to use the following code…</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">mean</span><span class="op">(</span><span class="va">rodents</span><span class="op">$</span><span class="va">weight</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] NA</code></pre>
</div>
<p>…but it returns NA! We don’t know why that is happening and we want
to ask for help.</p>
<p>Which of the following represents a minimal reproducible dataset for
this code? Can you describe why the other ones are not?</p>
<ol style="list-style-type: upper-alpha"><li><code>sample_data &lt;- data.frame(month = rep(7:9, each = 2), hindfoot_length = c(10, 25, 14, 26, 30, 17))</code></li>
<li><code>sample_data &lt;- data.frame(weight = rnorm(10))</code></li>
<li><code>sample_data &lt;- data.frame(weight = c(100, NA, 30, 60, 40, NA))</code></li>
<li><code>sample_data &lt;- sample(rodents$weight, 10)</code></li>
<li><code>sample_data &lt;- rodents_modified[1:20,]</code></li>
</ol></div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>The correct answer is C!</p>
<ol style="list-style-type: upper-alpha"><li>does not include the variable of interest (weight).</li>
<li>does not produce the same problem (NA result with a warning
message)–the code runs just fine.</li>
<li>minimal and reproducible.</li>
<li>is not reproducible. Sample randomly samples 10 items; sometimes it
may include NAs, sometime it may not (not guaranteed to reproduce the
error). It can be used if a seed is set (see next section for more
info).</li>
<li>uses a dataset that isn’t accessible without previous data wrangling
code–the object rodents_modified doesn’t exist.</li>
</ol></div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="can-i-just-use-my-own-data">3.2 Can I just use my own data?<a class="anchor" aria-label="anchor" href="#can-i-just-use-my-own-data"></a></h2>
<hr class="half-width"><p>At this point you may be wondering why you need a separate dataset,
can’t you just use your own data if you made sure it was minimal and
your helper could access it?</p>

<div id="callout3" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>There are several reasons why you might need to create a separate
dataset that is minimal and reproducible instead of trying to use your
actual dataset. The original dataset may be:</p>
<ul><li>too large - the Portal dataset is ~35,000 rows with 13 columns and
contains data for decades. That’s a lot!</li>
<li>private - your dataset might not be published yet, or maybe you’re
studying an endangered species whose locations can’t easily be shared.
Another example: many medical datasets cannot be shared publically.</li>
<li>hard to send - on most online forums, you can’t attach supplemental
files (more on this later). Even if you are just sending data to a
colleague, file paths can get complicated, the data might be too large
to attach, etc.</li>
<li>complicated - it would be hard to locate the relevant information.
One example to steer away from are needing a ‘data dictionary’ to
understand all the meanings of the columns (e.g. what is “plot type” in
<code>ratdat</code>?) We don’t our helper to waste valuable time to
figure out what everything means.</li>
<li>highly derived/modified from the original file. You may have already
done a bunch of preliminary data wrangling you don’t want to include
when you send the example, so you would need to provide the intermediate
dataset directly to your helper.</li>
</ul></div>
</div>
</div>
<p>If so, you wouldn’t be entirely wrong. While there could be several
ways in which your original data may be inaccessible or hard to derive
or subset, there are likely just as many ways you could make it
anonymous, minimal, and reproducible. And we will show you how!
Nevertheless, making your own data minimal and reproducible isn’t
necessarily easier than creating a new dataset from scratch.
Furthermore, creating a dataset from scratch can often highlight the
source of your issue! Which means you might not need to ask help after
all or you can ask a more specific question.</p>
</section><section><h2 class="section-heading" id="how-do-i-create-a-minimal-reproducible-dataset">3.3 How do I create a minimal reproducible dataset?<a class="anchor" aria-label="anchor" href="#how-do-i-create-a-minimal-reproducible-dataset"></a></h2>
<hr class="half-width"><p>In general, there are 3 common ways to provide minimal reproducible
data for a reprex.</p>
<ul><li><p>You can write a script that creates a new “dummy” dataset with
the same key characteristics as your original data.</p></li>
<li><p>You can make your own data minimal and reproducible.</p></li>
<li><p>You can use a dataset that is already embedded in R and is
therefore already accessible.</p></li>
</ul><p>For the purpose of this lesson, we believe each coder is entitled to
all the options, therefore we will walk you through how to provide a
minimal reproducible dataset using each of these 3 methods. However,
opinions generally differ on which method is best for which situations.
Below we compiled a summary table of advantages and disadvantages of
each method based on many conversations with several data science
groups.</p>
<table style="width:100%;" class="table"><colgroup><col width="6%"><col width="51%"><col width="42%"></colgroup><tbody><tr class="odd"><td></td>
<td><strong>Advantages</strong></td>
<td><strong>Disadvantages</strong></td>
</tr><tr class="even"><td><strong>Data from Scratch</strong></td>
<td><ul><li><p>Often the most concise</p></li>
<li><p>Easiest for helpers</p></li>
<li><p>Helps you problem-solve along the way (e.g., identify what data
aspects are generating the problem)</p></li>
<li><p>Easy to share, collaborate, teach, and understand</p></li>
<li><p>More universally applicable</p></li>
<li><p>Avoids privacy/security concerns</p></li>
<li><p>Lets you clearly illustrate the sought outcome</p></li>
<li><p>Uses important-to-learn skills</p></li>
<li><p>Easier for more skilled individuals</p></li>
</ul></td>
<td>
<p>While some disadvantages are universal, many apply mostly to
novices.</p>
<ul><li><p>Can be intimidating</p></li>
<li><p>Requires good understanding of your data</p></li>
<li><p>Harder to generate if the error is idiosyncratic or dependent on
having a large dataset</p></li>
<li><p>Time-consuming if unskilled</p></li>
<li><p>Iterative (you may need to trial and error a few times to
replicate the problem)</p></li>
<li><p>More likely to require analogies–less interpretable/connected to
real problems, more likely to require greater context</p></li>
<li><p>Risks generating XY problems–make sure you are asking the right
question/replicating the right problem</p></li>
</ul></td>
</tr><tr class="odd"><td><strong>R-built Data</strong></td>
<td><ul><li><p>Simple and easy to share–no need to provide additional
data</p></li>
<li><p>Familiar–helpers already know the data structure</p></li>
<li><p>Potentially faster than starting from scratch (i.e. faster than
generating rows/columns de novo).</p></li>
<li><p>No privacy/security concerns</p></li>
<li><p>Can easily be manipulated or simplified</p></li>
<li><p>Generalizes the problem</p></li>
</ul></td>
<td><ul><li><p>May require a good mental model of the problem</p></li>
<li><p>Harder if the error is idiosyncratic</p></li>
<li><p>Greatest risk of generating XY problems–make sure you are asking
the right question/replicating the right problem</p></li>
<li><p>Iterative (you may need to trial and error a few times to
replicate the problem)</p></li>
<li><p>Need to re-think the question so it matches a different dataset
and context–mental gymnastics</p></li>
<li><p>Still need to choose which dataset and variables are more
appropriate</p></li>
</ul></td>
</tr><tr class="even"><td><strong>Your Data</strong></td>
<td><ul><li><p>Can require the least mental effort</p></li>
<li><p>Problem is easy to replicate even if you don’t understand it at
all</p></li>
<li><p>Accurately represents the actual problem; avoids XY
problems.</p></li>
<li><p>Richer context may intrigue/motivate helpers</p></li>
<li><p>Can be quicker if dataset is small</p></li>
<li><p>May be required for idiosyncratic problems that are based on
aspects of the data itself that you don’t know about (e.g.  when the
data itself, rather than the code per se, is central to the
problem)</p></li>
<li><p>Captures data structures that are difficult or time-consuming to
replicate if you are a novice</p></li>
</ul></td>
<td><ul><li><p>Less growth-minded if chosen as the “easy way out”–skips the
learning process of trying to construct a dataset and any insights that
that process might give you.</p></li>
<li><p>Easy to do poorly and think that you’re doing it well; perceived
“easiness” leads to overcomplication/confusion</p></li>
<li><p>Leaves all the work to the helpers if you don’t also work to
minimize it–less motivation for harder work</p></li>
<li><p>Could obfuscate the problem if not minimized–less likely to find
a quick answer</p></li>
<li><p>More difficult to share–may be large/messy</p></li>
<li><p>Security/privacy/sanitizeation problems</p></li>
</ul></td>
</tr></tbody></table></section><section><h2 class="section-heading" id="creating-a-dummy-dataset-from-scratch">3.4 Creating a “dummy” dataset from scratch<a class="anchor" aria-label="anchor" href="#creating-a-dummy-dataset-from-scratch"></a></h2>
<hr class="half-width"><p>While this might be the most daunting option for novices, it tends to
be the preferred methods for experts. That’s probably because, once you
really understand the basic building blocks, it becomes the most
straight-forward method of creating a minimal reproducible dataset. This
is also the method that makes most sense when doing other activities
that also require a reprex (e.g., teaching, collaborating, developing).
Lastly, in this lesson we believe there are greater problem-solving
insights to be gained by creating a new “dummy” dataset. So let’s start
by making this scary process more easily digestible!</p>
<p>Usually, at this stage, you would have 2 pressing quesions:</p>
<ol style="list-style-type: decimal"><li>How do I create a dataset?</li>
<li>How do I recreate the key elements of my data that replicate my
issue?</li>
</ol><p>Let’s start with the first.</p>
<p>There are many ways one can create a dataset in R.</p>
<p>You can start by creating vectors using <code>c()</code></p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vector</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span> </span>
<span><span class="va">vector</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1 2 3 4</code></pre>
</div>
<p>You can also add some randomness by sampling from a vector using
<code>sample()</code>.</p>
<p>For example you can sample numbers 1 through 10 in a random order</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">sample</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [1] 10  8  7  3  9  5  4  2  1  6</code></pre>
</div>
<p>Or you can randomly sample from a normal distribution</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [1] -0.909463194 -0.365545330 -1.712217358 -0.007364299 -1.051240206
 [6] -0.350109483 -0.311576571  1.713959335 -0.161357572  1.569398590</code></pre>
</div>
<p>You can also use <code>letters</code> to create factors.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">sample</span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, <span class="fl">20</span>, replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [1] "a" "c" "d" "c" "a" "b" "b" "c" "c" "b" "a" "c" "a" "a" "a" "c" "b" "c" "b"
[20] "b"</code></pre>
</div>
<p>Remember that a data frame is just a collection of vectors. You can
create a data frame using <code>data.frame</code> (or
<code>tibble</code> in the <code>dplyr</code> package). You can then
create a vector for each variable.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">data.frame</span> <span class="op">(</span>x <span class="op">=</span> <span class="fu">sample</span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="fl">20</span>, replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span>, </span>
<span>                    y <span class="op">=</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">head</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  x           y
1 b -0.36620783
2 b -1.29362251
3 a -0.82626886
4 c -1.21481226
5 c  0.05616861
6 a -1.19779358</code></pre>
</div>
<p><strong>However</strong>, when sampling at random you must remember
to <code>set.seed()</code> before sending it to someone to make sure you
both get the same numbers!</p>
<div id="callout4" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>For more handy functions for creating data frames and variables, see
the cheatsheet. For some questions, specific formats can be needed. For
these, one can use any of the provided as.someType functions:
<code>as.factor</code>, <code>as.integer</code>,
<code>as.numeric</code>, <code>as.character</code>,
<code>as.Date</code>, <code>as.xts</code>.</p>
</div>
</div>
</div>

<div id="exercise-3-your-turn-optional" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-3-your-turn-optional" class="callout-inner">
<h3 class="callout-title">Exercise 3: Your turn! (Optional)</h3>
<div class="callout-content">
<p>Create a data frame with:</p>
<p>A. One categorical variable with 2 levels and one continuous
variable. B. One continuous variable that is normally distributed. C.
Name, sex, age, and treatment type.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="identifying-the-key-elements-of-your-data">3.5 Identifying the key elements of your data<a class="anchor" aria-label="anchor" href="#identifying-the-key-elements-of-your-data"></a></h2>
<hr class="half-width"><p>No matter which approach we take for providing a dataset, we need to
identify which elements of our original data are necessary. To do so, we
propose starting a few simple questions to investigate your data:</p>
<ul><li>How many variables do we need?</li>
<li>What data type (discrete or continuous) is each variable?</li>
<li>How many levels and/or observations are necessary?</li>
<li>Should the values be distributed in a specific way?</li>
<li>Are there any NAs that could be relevant?</li>
</ul><p>Let’s come back to our kangaroo rats example. Here is the minimal
code we settled on:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Minimal code [Or whatever we end up with]</span></span>
<span><span class="va">krats_subset</span> <span class="op">&lt;-</span> <span class="va">rodents</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">species</span> <span class="op">==</span> <span class="fu">c</span><span class="op">(</span><span class="st">"ordii"</span>, <span class="st">"spectabilis"</span><span class="op">)</span>,</span>
<span>         <span class="va">sex</span> <span class="op">==</span> <span class="fu">c</span><span class="op">(</span><span class="st">"F"</span>, <span class="st">"M"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">table</span><span class="op">(</span><span class="va">krats_subset</span><span class="op">$</span><span class="va">sex</span>, <span class="va">krats_subset</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
    ordii spectabilis
  F   350           0
  M     0         626</code></pre>
</div>
<p>So we want to create a minimal reproducible ‘dummy’ version of
<code>krats_subet</code>. Let’s start by taking a quick look, then
aswering the questions.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">head</span><span class="op">(</span><span class="va">krats_subset</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  record_id month day year plot_id species_id sex hindfoot_length weight
1        58     7  18 1977      12         DS   M              45     NA
2        80     8  19 1977       1         DS   M              48     NA
3       104     8  20 1977      11         DS   M              43     NA
4       144     8  21 1977      15         DS   M              40     NA
5       176     9  11 1977      12         DS   M              45     NA
6       182     9  11 1977      21         DS   M              49     NA
      genus     species   taxa                plot_type
1 Dipodomys spectabilis Rodent                  Control
2 Dipodomys spectabilis Rodent        Spectab exclosure
3 Dipodomys spectabilis Rodent                  Control
4 Dipodomys spectabilis Rodent Long-term Krat Exclosure
5 Dipodomys spectabilis Rodent                  Control
6 Dipodomys spectabilis Rodent Long-term Krat Exclosure</code></pre>
</div>
<div id="excercise-4" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="excercise-4" class="callout-inner">
<h3 class="callout-title">Excercise 4</h3>
<div class="callout-content">
<p>Try to answer the following questions on your own to determine what
we need to include in our minimal reproducible dataset:</p>
<ol style="list-style-type: decimal"><li>How many variables do we need?</li>
<li>What data type (discrete or continuous) is each variable?</li>
<li>How many levels and/or observations are necessary?</li>
<li>Should the values be distributed in a specific way?</li>
<li>Are there any NAs that could be relevant?</li>
</ol></div>
</div>
</div>

<p>Let’s go over the answers together and build a dataset as we go
along!</p>
<ol style="list-style-type: decimal"><li>How many variables do we need?</li>
</ol><p>We need species, sex, and maybe a third identifier like record_id.
This means we potentially need 3 vector (remember, each column in a
dataframe is essentially just a vector).</p>
<ol style="list-style-type: decimal"><li>What data type (discrete or continuous) is each variable?</li>
</ol><p>Species and sex are both discrete (categorical) variables, while
record ID would be more continuous.</p>
<ol style="list-style-type: decimal"><li>How many levels and/or observations are necessary?</li>
</ol><p>Since we are filtering our dataset down to 2 categories for both
species and sex, that means we need at least 3 levels in each to start
with. In terms of number of observations there don’t seem to be specific
restrictions other than we probably want at least 1 observations per
original category, so 2*3=6, or we can just pick another typical nice
number like 10.</p>
<ol style="list-style-type: decimal"><li>Should the values be distributed in a specific way?</li>
</ol><p>Since question probably isn’t going to be relevant most of the time,
but certainly worth considering. If we needed a longer dataset of
measurements we may have wanted to make sure it was normally
distributed. If we needed a longer dataset of counts we may have wanted
to make sure it was Poisson distributed. Or maybe we had bimodal data.
But in this case, we had a short dataset and I don’t think it matters.
We can always come back to this if we are unable to replicate our issue
(hint: in which case the distribution may be related to the issue).</p>
<ol style="list-style-type: decimal"><li>Are there any NAs that could be relevant?</li>
</ol><p>We don’t have any NAs but we do have a blank category under sex. For
all we know that could be important, so maybe we want to also make one
of our categories blank.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We need 3 variables: species, sex, and record_id</span></span>
<span><span class="co"># species and sex are categorical with at least 3 levels, one of which is blank for sex</span></span>
<span><span class="va">species</span> <span class="op">&lt;-</span> <span class="fu">sample</span><span class="op">(</span><span class="va">letters</span>, <span class="fl">3</span>, replace<span class="op">=</span><span class="cn">F</span><span class="op">)</span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="va">species</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "u" "e" "q"</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sex</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="st">'M'</span>,<span class="st">'F'</span>,<span class="st">''</span><span class="op">)</span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="va">sex</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "M" "F" "" </code></pre>
</div>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># record_id is continuous </span></span>
<span><span class="va">record_id</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="va">record_id</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Now let's go sampling and put it all together</span></span>
<span><span class="va">sample_data</span> <span class="op">&lt;-</span> <span class="fu">data.frame</span><span class="op">(</span></span>
<span>  record_id <span class="op">=</span> <span class="va">record_id</span>,</span>
<span>  species <span class="op">=</span> <span class="fu">sample</span><span class="op">(</span><span class="va">species</span>, <span class="fl">10</span>, replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>  sex <span class="op">=</span> <span class="fu">sample</span><span class="op">(</span><span class="va">sex</span>, <span class="fl">10</span>, replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="va">sample_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   record_id species sex
1          1       u   F
2          2       e   F
3          3       q   F
4          4       q
5          5       e   F
6          6       u   M
7          7       e
8          8       q   F
9          9       u
10        10       q    </code></pre>
</div>
<p>And just like that we created a ‘dummy’ dataset from scratch! Notice
that we could also have compiled the same type of dataset in a single
line by creating each vector already within the
<code>data.frame()</code></p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sample2_data</span> <span class="op">&lt;-</span> <span class="fu">data.frame</span><span class="op">(</span></span>
<span>  record_id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,</span>
<span>  species <span class="op">=</span> <span class="fu">sample</span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="fl">10</span>, replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>  sex <span class="op">=</span> <span class="fu">sample</span><span class="op">(</span><span class="fu">c</span><span class="op">(</span><span class="st">'M'</span>,<span class="st">'F'</span>,<span class="st">''</span><span class="op">)</span>, <span class="fl">10</span>, replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="va">sample2_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   record_id species sex
1          1       c   M
2          2       b   F
3          3       c
4          4       b
5          5       c
6          6       a   M
7          7       a   F
8          8       b   M
9          9       a   F
10        10       b   M</code></pre>
</div>
<p><strong>Important</strong>: Notice that the outputs of if you want
the outputs to be EXACTLY the same each time, but you are using
<code>sample()</code> which is an inherently random process, you must
first use <code>set.seed()</code> and share that with your helper
too.</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">set.seed</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># set seed before recreating the sample</span></span>
<span><span class="va">sample_data</span> <span class="op">&lt;-</span> <span class="fu">data.frame</span><span class="op">(</span></span>
<span>  record_id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,</span>
<span>  species <span class="op">=</span> <span class="fu">sample</span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="fl">10</span>, replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>  sex <span class="op">=</span> <span class="fu">sample</span><span class="op">(</span><span class="fu">c</span><span class="op">(</span><span class="st">'M'</span>,<span class="st">'F'</span>,<span class="st">''</span><span class="op">)</span>, <span class="fl">10</span>, replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="va">sample_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   record_id species sex
1          1       a
2          2       c   M
3          3       a   M
4          4       b   M
5          5       a   F
6          6       c   F
7          7       c   F
8          8       b   F
9          9       b
10        10       c   M</code></pre>
</div>
<div id="callout5" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>Adding a <code>set.seed()</code> at the start of your reprex will
ensure anyone else who runs the same code <strong>in the same
order</strong> will always get the same results. However, if using it
more generally, you may want to read more about it. For example, in the
example below we set a seed of 2 and then run <code>sample(10)</code>
twice. You will notice that the output of each sample run is not the
same. However, if you run the whole code again, you will see that each
of the outputs actually do stay the same.</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">set.seed</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu">sample</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [1]  5  6  9  1 10  7  4  8  3  2</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sample</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [1]  1  3  6  2  9 10  7  5  4  8</code></pre>
</div>
</div>
</div>
</div>
<p>Great! Now we need to check whether it works within our code and
whether it reproduces our issue</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Minimal code [or whatever we end up with] </span></span>
<span><span class="va">sample_subset</span> <span class="op">&lt;-</span> <span class="va">sample_data</span> <span class="op">%&gt;%</span> <span class="co"># replace rodents with our sample dataset</span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">species</span> <span class="op">==</span> <span class="fu">c</span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span>, <span class="co"># replace species with those from our sample dataset</span></span>
<span>         <span class="va">sex</span> <span class="op">==</span> <span class="fu">c</span><span class="op">(</span><span class="st">"F"</span>, <span class="st">"M"</span><span class="op">)</span><span class="op">)</span> <span class="co"># this can stay the same because we recreated it the same</span></span>
<span></span>
<span><span class="fu">table</span><span class="op">(</span><span class="va">sample_subset</span><span class="op">$</span><span class="va">sex</span>, <span class="va">sample_subset</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
    a b
  F 1 0
  M 0 1</code></pre>
</div>
<p>It works! Our sample size has unexpectedly been reduced to just 2
observations, when we would have expected a sample of 8, based on the
sample_data output above. Wherever the issue lies, we were able to
successfully replicate it in our minimal ‘dummy’ dataset.</p>
<div id="exercise-5-your-turn" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-5-your-turn" class="callout-inner">
<h3 class="callout-title">Exercise 5: Your turn!</h3>
<div class="callout-content">
<p>Now practice doing it yourself. Create a data frame with:</p>
<p>A. One categorical variable with 2 levels and one continuous
variable. B. One continuous variable that is normally distributed. C.
Name, sex, age, and treatment type.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="using-your-own-data-set">3.6 Using your own data set<a class="anchor" aria-label="anchor" href="#using-your-own-data-set"></a></h2>
<hr class="half-width"><p>Even once you master the art of creating ‘dummy’ datasets, there may
be occasions in which your data or your issue is maybe too complex and
you can’t seem to replicate the issue. Or maybe you still think using
your own data would just be easier.</p>
<p>In cases when you want to make your own data minimal and
reproducible, you will want to take a similar approach to what we did in
Episode 2 when making our code minimal. Keep what is essential, get rid
of the rest. In other words, we will want to subset our data into a
smaller, more digestible chunk.</p>
<p>The question still arises: how do I know what is essential?</p>
<p>Use the same guiding questions that we used earlier!</p>
<ol style="list-style-type: decimal"><li>How many (or rather which) variables do we need?</li>
<li>What data type is each variable? (less necessary, since we are
keeping the actual variables)</li>
<li>How many levels and/or observations are necessary? (potentially
still useful, we don’t want to get rid of more than we need)</li>
<li>Should the values be distributed in a specific way? (they are as
they are, but worth keeping in mind in terms of how we are removing
observations)</li>
<li>Are there any NAs that could be relevant?</li>
</ol><p>Based on our previous answers we end up with:</p>
<ol style="list-style-type: decimal"><li>We need species, sex, and maybe record_id</li>
<li>Species and sex are categorical, record_id is a continuous count of
our observations.</li>
<li>As we said earlier, we want 3 each for species and sex, which
happens to already be the case. And we could reduce our record_id size
to ~10.</li>
<li>Not really, but we want to make sure that when we reduce the number
of observations we still have observations in each of the 3 levels in
species and sex.</li>
<li>No NA’s, but we still don’t know if the blanks are relevant, so
let’s make sure we keep at least one.</li>
</ol><p>Now that we have a clearer goal, let’s subset our data.</p>
<p>Useful functions for subsetting a dataset include
<code>subset()</code>, <code>head()</code>, <code>tail()</code>, and
indexing with [] (e.g., iris[1:4,]). Alternatively, you can use
tidyverse functions like <code>select()</code>, and
<code>filter()</code> from the tidyverse. You can also use the same
<code>sample()</code> functions we covered earlier.</p>
<p><em>Note</em>: you should already have an understanding of how to
subset or wrangle data using the tidyverse from the R for Ecology
lesson. If not, go check it out! [insert link to lesson]</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Remember your minimal code</span></span>
<span><span class="va">krats_subset</span> <span class="op">&lt;-</span> <span class="va">rodents</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">species</span> <span class="op">==</span> <span class="fu">c</span><span class="op">(</span><span class="st">"ordii"</span>, <span class="st">"spectabilis"</span><span class="op">)</span>,</span>
<span>         <span class="va">sex</span> <span class="op">==</span> <span class="fu">c</span><span class="op">(</span><span class="st">"F"</span>, <span class="st">"M"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">table</span><span class="op">(</span><span class="va">krats_subset</span><span class="op">$</span><span class="va">sex</span>, <span class="va">krats_subset</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
    ordii spectabilis
  F   350           0
  M     0         626</code></pre>
</div>
<div id="exercise-6-think-quick" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-6-think-quick" class="callout-inner">
<h3 class="callout-title">Exercise 6: Think quick!</h3>
<div class="callout-content">
<p>Which dataset are we trying to make minimal and reproducible? Hint:
the two datasets we can see are krats_sebset and rodents</p>
</div>
</div>
</div>
<p>Given that the code that is going wrong is that which creates
krats_subset, we need to create a minimal reproducible version of
rodents! We can then insert our new_rodent dataset in place of the
original rodent one.</p>

<p><strong>Step 1: select the variables of interest</strong></p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># subset rodent into new_rodent to make it minimal</span></span>
<span><span class="co"># Note: there are many ways you could do this!</span></span>
<span><span class="va">new_rodent</span> <span class="op">&lt;-</span> <span class="va">rodents</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="co"># 1. select the variables of interest</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">record_id</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span></span>
<span>  <span class="co"># PAUSE. Does this work so far?</span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="va">new_rodent</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   record_id      species sex
1          1     albigula   M
2          2     albigula   M
3          3     merriami   F
4          4     merriami   M
5          5     merriami   M
6          6       flavus   M
7          7     eremicus   F
8          8     merriami   M
9          9     merriami   F
10        10       flavus   F
11        11  spectabilis   F
12        12     merriami   M
13        13     merriami   M
14        14     merriami
15        15     merriami   F
16        16     merriami   F
17        17  spectabilis   F
18        18 penicillatus   M
19        19       flavus
20        20  spectabilis   F
21        21     merriami   F
22        22     albigula   F
23        23     merriami   M
24        24     hispidus   M
25        25     merriami   M
26        26     merriami   M
27        27     merriami   M
28        28     merriami   M
29        29 penicillatus   M
30        30  spectabilis   F
31        31     merriami   F
32        32     merriami   F
33        33     merriami   F
 [ reached 'max' / getOption("max.print") -- omitted 16115 rows ]</code></pre>
</div>
<p><strong>Step 2-5: reduce the number of observations to ~10 while
making sure the dataset still contains at least 3 species and at least 3
sexes</strong></p>
<p>While the rest is just one step, it is the trickiest, because this is
where we want to ensure the key elements of our original dataset, as
defined earlier, are preserved.</p>
<div id="exercise-7-try-it-yourself" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-7-try-it-yourself" class="callout-inner">
<h3 class="callout-title">Exercise 7: Try it yourself</h3>
<div class="callout-content">
<p>How would you continue the subsetting pipeline? How could you reduce
the number of observations while <strong>making sure you still have at
least 3 species and 3 sexes left</strong>? Hint: there is no single
right answer! Trial and error works wonders.</p>
</div>
</div>
</div>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">set.seed</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">new_rodents</span> <span class="op">&lt;-</span> <span class="va">rodents</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="co"># 1. select the variables of interest</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">record_id</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">slice_sample</span><span class="op">(</span>n<span class="op">=</span><span class="fl">4</span>, replace <span class="op">=</span> <span class="cn">F</span>, by<span class="op">=</span><span class="st">'sex'</span><span class="op">)</span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="va">new_rodents</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   record_id     species sex
1       2359    merriami   M
2      16335    albigula   M
3       9910       ordii   M
4       8278       ordii   M
5      12038    merriami   F
6       7862   megalotis   F
7       9221    albigula   F
8       1335 spectabilis   F
9       9862     harrisi
10     14979    merriami
11     11333   spilosoma
12       351 leucogaster    </code></pre>
</div>
<p>The code ran wihtout issues, yay! But do we end up with what we were
looking for?</p>
<ol style="list-style-type: decimal"><li>Doe we have ~10 observations? Yes! 9 seems good enough</li>
<li>Do we have at least 3 species? Yes! We have 7 (we could choose to
reduce this further)</li>
<li>Do we have at least 3 sexes? Yes! M, F, and blank</li>
</ol><p>Great! All of our requirements are fulfilled. Now let’s see if it
replicates our issue when we add it to our minimal code.</p>
<p>Note: <code>slice_sample()</code> and similar functions allow you to
specify and customize how exactly you want that sample to be taken
(check the documentation!). For example, you can specify a proportion of
rows to select, specify how to order variables, whether ties [may
require more explanation] should be kept together, or even whether to
weigh certain variables. All of this allows you to keep aspects of your
dataset that may be relevant and hard to replicate otherwise.</p>
<p>Remember your minimal code:</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">krats_subset</span> <span class="op">&lt;-</span> <span class="va">rodents</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">species</span> <span class="op">==</span> <span class="fu">c</span><span class="op">(</span><span class="st">"ordii"</span>, <span class="st">"spectabilis"</span><span class="op">)</span>,</span>
<span>         <span class="va">sex</span> <span class="op">==</span> <span class="fu">c</span><span class="op">(</span><span class="st">"F"</span>, <span class="st">"M"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">table</span><span class="op">(</span><span class="va">krats_subset</span><span class="op">$</span><span class="va">sex</span>, <span class="va">krats_subset</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
    ordii spectabilis
  F   350           0
  M     0         626</code></pre>
</div>
<p>We now want to replace rodents with our new_rodents. Do we need to
change anything else?</p>
<p>We actually still have ordii and spectabilis as species in our list,
so we can keep it as is. Same for sex. So we’re all set!</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_subset</span> <span class="op">&lt;-</span> <span class="va">new_rodents</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">species</span> <span class="op">==</span> <span class="fu">c</span><span class="op">(</span><span class="st">"ordii"</span>, <span class="st">"spectabilis"</span><span class="op">)</span>,</span>
<span>         <span class="va">sex</span> <span class="op">==</span> <span class="fu">c</span><span class="op">(</span><span class="st">"F"</span>, <span class="st">"M"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<p>The code ran without any issues! But does it replicate our issue?</p>

<p>Take a step back to remind yourself of what you are looking for. What
was the issue we had identified?</p>
<p>The number of rows we end up after the filer is lower than
expected.</p>
<p>So what would we expect to see with this new dataset? Since it is
nice and short, this makes it a lot easier to predict the outcome.</p>
<p>We are asking for the 2 ordii rows, both males, and the 1 spectabilis
row, which is female.</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">table</span><span class="op">(</span><span class="va">new_subset</span><span class="op">$</span><span class="va">sex</span>, <span class="va">new_subset</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt; table of extent 0 x 0 &gt;</code></pre>
</div>
<p>Instead we end up with nothing! Why aren’t we getting the rows we are
asking for?</p>
<p>Maybe our table is just wrong, let’s look at the actual dataset we
end up with</p>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">print</span><span class="op">(</span><span class="va">new_subset</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] record_id species   sex
&lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
<p>Still nothing! What is going on?? Well, we certainly replicated our
issue. Time to ask for help!</p>

<p>But wait, our dataset is now minimal and relevant, but is it
reproducible (accessible outside your device)? Not yet. We created a
subset of our original dataset <code>rodents</code> but this came from a
file on our computer. We could share our csv file and add an upload
code… but that’s not ideal and it makes it hard to share our problem on
a community site. Remember, the more steps required, the less likely
someone will want to help.</p>
<p>Thankfully, there is a nifty function <code>dput()</code> that can
help us out. Let’s try it and see what happens.</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dput</span><span class="op">(</span><span class="va">new_rodents</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fu">structure</span><span class="op">(</span><span class="fu">list</span><span class="op">(</span>record_id <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="fl">2359L</span>, <span class="fl">16335L</span>, <span class="fl">9910L</span>, <span class="fl">8278L</span>, <span class="fl">12038L</span>,</span>
<span><span class="fl">7862L</span>, <span class="fl">9221L</span>, <span class="fl">1335L</span>, <span class="fl">9862L</span>, <span class="fl">14979L</span>, <span class="fl">11333L</span>, <span class="fl">351L</span><span class="op">)</span>, species <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"merriami"</span>,</span>
<span><span class="st">"albigula"</span>, <span class="st">"ordii"</span>, <span class="st">"ordii"</span>, <span class="st">"merriami"</span>, <span class="st">"megalotis"</span>, <span class="st">"albigula"</span>,</span>
<span><span class="st">"spectabilis"</span>, <span class="st">"harrisi"</span>, <span class="st">"merriami"</span>, <span class="st">"spilosoma"</span>, <span class="st">"leucogaster"</span></span>
<span><span class="op">)</span>, sex <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"F"</span>, <span class="st">"F"</span>, <span class="st">"F"</span>, <span class="st">"F"</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>,</span>
<span><span class="st">""</span><span class="op">)</span><span class="op">)</span>, class <span class="op">=</span> <span class="st">"data.frame"</span>, row.names <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="cn">NA</span>, <span class="op">-</span><span class="fl">12L</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<p>It spit out a hard-to-read but not excessively long chunk of code.
This code, when run, will recreate our <code>new_rodents</code> dataset!
We can also break it down and label it further to help the reader.</p>
<div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reprex_data</span> <span class="op">&lt;-</span> <span class="fu">structure</span><span class="op">(</span><span class="fu">list</span><span class="op">(</span></span>
<span>  </span>
<span><span class="co"># a unique identifier</span></span>
<span>record_id <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="fl">2359L</span>, <span class="fl">16335L</span>, <span class="fl">9910L</span>, <span class="fl">8278L</span>, <span class="fl">12038L</span>, <span class="fl">7862L</span>, <span class="fl">9221L</span>, <span class="fl">1335L</span>, <span class="fl">9862L</span>, <span class="fl">14979L</span>, <span class="fl">11333L</span>, <span class="fl">351L</span><span class="op">)</span>, </span>
<span></span>
<span><span class="co"># a list of species</span></span>
<span>species <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"merriami"</span>, <span class="st">"albigula"</span>, <span class="st">"ordii"</span>, <span class="st">"ordii"</span>, <span class="st">"merriami"</span>, <span class="st">"megalotis"</span>, <span class="st">"albigula"</span>, <span class="st">"spectabilis"</span>, <span class="st">"harrisi"</span>, <span class="st">"merriami"</span>, <span class="st">"spilosoma"</span>, <span class="st">"leucogaster"</span><span class="op">)</span>, </span>
<span></span>
<span><span class="co"># a list of sexes. Note: this includes some blanks!</span></span>
<span>sex <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"F"</span>, <span class="st">"F"</span>, <span class="st">"F"</span>, <span class="st">"F"</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span><span class="op">)</span><span class="op">)</span>,</span>
<span></span>
<span>class <span class="op">=</span> <span class="st">"data.frame"</span>, row.names <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="cn">NA</span>, <span class="op">-</span><span class="fl">12L</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="va">reprex_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   record_id     species sex
1       2359    merriami   M
2      16335    albigula   M
3       9910       ordii   M
4       8278       ordii   M
5      12038    merriami   F
6       7862   megalotis   F
7       9221    albigula   F
8       1335 spectabilis   F
9       9862     harrisi
10     14979    merriami
11     11333   spilosoma
12       351 leucogaster    </code></pre>
</div>
<p>Ta-da! Now they can easily recreate our minimal dataset and use it to
run the minimal code. However, was that really easier than creating a
dataset from scratch?</p>
<p>And sure, you could just use <code>dput()</code> on your original
dataset. It would work. But that wouldn’t be very considerate to those
who are trying to help. Try it.</p>
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#dput(rodents)</span></span></code></pre>
</div>
<p>It becomes a huge chunk of code! When clearly we don’t need all of
that.</p>
<p>Remember, we want to keep everything minimal for many reasons:</p>
<ul><li>to make it easy for our helpers to understand our data and code</li>
<li>to allow helpers to quickly focus their efforts on the right
factors</li>
<li>to make the problem-solving process as easy and painless as
possible</li>
<li>bonus: to help <em>us</em> better understand and zero-in on the
source of our issue, often stumbling upon a solution along the way</li>
</ul><p>Nevertheless, it remains an option for when your data appears too
complex or you are not quite sure where your error lies and therefore
are not sure what minimal components are needed to reproduce the
example.</p>
</section><section><h2 class="section-heading" id="using-an-r-build-dataset">3.7 Using an R-build dataset<a class="anchor" aria-label="anchor" href="#using-an-r-build-dataset"></a></h2>
<hr class="half-width"><p>The last approach we mentioned is to build a minimal reproducible
dataset based on the datasets that already exist within R (and therefore
everyone would have access to).</p>
<p>A list of readily available datasets can be found using
<code>library(help="datasets")</code>. You can then use <code>?</code>
in front of the dataset name to get more information about the contents
of the dataset.</p>
<p>For a more detailed discussion of the benefits of using this approach
see [insert something]</p>
<p>This approach essentially blends the skills we already learned in the
first two. We need to identify a dataset with appropriate variables that
match the “key elements” of our original dataset. We then need to
further reduce that dataset to a minimal, relevant, number or rows. Once
again, we can use the previously learned functions such as
<code>select()</code>, <code>filter()</code>, or
<code>sample()</code>.</p>
<p>Since we already practiced everything you need, why not try it
yourself?</p>
<div id="exercise-8-extra-challenge" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-8-extra-challenge" class="callout-inner">
<h3 class="callout-title">Exercise 8: Extra Challenge</h3>
<div class="callout-content">
<p>Using the “HairEyeColor” dataset, create a minimal reproducible
dataset for the same issue and minimal code we have been exploring. 1.
Start by using <code>?HairEyeColor</code> to read a description of the
dataset and <code>View(HairEyeColor)</code> to see the actual dataset.
2. Which variables would be a good match for our situation? What are our
requirements? 3. How can we subset this dataset to make it minimal and
still replicate our issue?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>Remember, there are many possible solutions! The most important
feature is that the example dataset can replicate the issue when used
within our minimal code.</p>
<p>The following is 1 possible solution:</p>
<p>We selected Hair and Eye as replacements for species and sex because
they are both categorical and have at least 3 levels. We don’t strictly
need anything else. We will call our new <code>rodents</code>
replacement <code>hyc</code>. We set a seed because we want a random
sample.</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">set.seed</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># the dummy dataset</span></span>
<span><span class="va">hyc</span> <span class="op">&lt;-</span> <span class="fu">as.data.frame</span><span class="op">(</span><span class="va">HairEyeColor</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co"># oh no! Needs to be converted to df -- might need to change example or have them figure that one out... or we can give them this first line.</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">Hair</span>, <span class="va">Eye</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">slice_sample</span><span class="op">(</span>n<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="va">hyc</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>    Hair   Eye
1  Black Hazel
2  Blond Brown
3    Red  Blue
4  Black Brown
5  Brown Brown
6    Red  Blue
7    Red Hazel
8  Brown Green
9  Brown Brown
10   Red Brown</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the minimal code</span></span>
<span><span class="va">hyc_subset</span> <span class="op">&lt;-</span> <span class="va">hyc</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">Hair</span> <span class="op">==</span> <span class="fu">c</span><span class="op">(</span><span class="st">'Red'</span>,<span class="st">'Blonde'</span><span class="op">)</span>,</span>
<span>         <span class="va">Eye</span> <span class="op">==</span> <span class="fu">c</span><span class="op">(</span><span class="st">'Blue'</span>, <span class="st">'Brown'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># illustrating the issue</span></span>
<span><span class="fu">table</span><span class="op">(</span><span class="va">hyc_subset</span><span class="op">$</span><span class="va">Hair</span>, <span class="va">hyc_subset</span><span class="op">$</span><span class="va">Eye</span><span class="op">)</span> </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
        Brown Blue Hazel Green
  Black     0    0     0     0
  Brown     0    0     0     0
  Red       0    1     0     0
  Blond     0    0     0     0</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the whole subset</span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="va">hyc_subset</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  Hair  Eye
1  Red Blue</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># But we know there are more!</span></span>
<span><span class="fu">table</span><span class="op">(</span><span class="va">hyc</span><span class="op">$</span><span class="va">Hair</span>, <span class="va">hyc</span><span class="op">$</span><span class="va">Eye</span><span class="op">)</span> <span class="co"># Reds have 2 Blue and 1 Brown, and Blonds have 1 Brown!</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
        Brown Blue Hazel Green
  Black     1    0     1     0
  Brown     2    0     0     1
  Red       1    2     1     0
  Blond     1    0     0     0</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="callout6" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p><em>What about NAs?</em> If your data has NAs and they may be causing
the problem, it is important to include them in your example dataset.
You can find where there are NAs in your dataset by using
<code>is.na</code>, for example: <code>is.na(krats$weight)</code>. This
will return a logical vector or TRUE if the cell contains an NA and
FALSE if not. The simplest way to include NAs in your dummy dataset is
to directly include it in vectors: <code>x &lt;- c(1,2,3,NA)</code>. You
can also subset a dataset that already contains NAs, or change some of
the values to NAs using <code>mutate(ifelse())</code> or substitute all
the values in a column by sampling from within a vector that contains
NAs.</p>
<p>One important thing to note when subsetting a dataset with NAs is
that subsetting methods that use a condition to match rows won’t
necessarily match NA values in the way you expect. For example</p>
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">data.frame</span><span class="op">(</span>x <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">test</span> <span class="op">%&gt;%</span> <span class="fu">filter</span><span class="op">(</span><span class="va">x</span> <span class="op">!=</span> <span class="fl">3</span><span class="op">)</span> </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  x          y
1 1 -0.3053884</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb66">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># you might expect that the NA values would be included, since “NA is not equal to 3”. But actually, the expression NA != 3 evaluates to NA, not TRUE. So the NA rows will be dropped!</span></span>
<span><span class="co"># Instead you should use is.na() to match NAs</span></span>
<span><span class="va">test</span> <span class="op">%&gt;%</span> <span class="fu">filter</span><span class="op">(</span><span class="va">x</span> <span class="op">!=</span> <span class="fl">3</span> <span class="op">|</span> <span class="fu">is.na</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   x          y
1 NA  0.4874291
2 NA  0.7383247
3  1 -0.3053884</code></pre>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>A minimal reproducible dataset contains (a) the minimum number of
lines, variables, and categories, in the correct format, to replicate
your issue; and (b) it must be fully reproducible, meaning that someone
else can access or run the same code to reproduce the dataset needed for
your reprex.</li>
<li>To make it accessible, you can create a dataset from scratch using
<code>as.data.frame</code>, you can use an R dataset like
<code>cars</code>, or you can use a subset of your own dataset and then
use <code>dput()</code> to generate reproducible code.</li>
</ul></div>
</div>
</div>
</section><section><h2 class="section-heading" id="bonus-additional-practice">Bonus: Additional Practice<a class="anchor" aria-label="anchor" href="#bonus-additional-practice"></a></h2>
<hr class="half-width"><p>Here are some more practice exercises if you wish to test your
knowledge</p>
<div id="extra-practice-would-need-to-change-from-mpg-since-thats-from-ggplot" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="extra-practice-would-need-to-change-from-mpg-since-thats-from-ggplot" class="callout-inner">
<h3 class="callout-title">Extra Practice? Would need to change from mpg, since that’s from ggplot</h3>
<div class="callout-content">
<p>For each of the following, identify which data are necessary to
create a minimal reproducible dataset using <code>mpg</code>.</p>
<ol style="list-style-type: upper-alpha"><li>We want to know how the highway mpg has changed over the years<br></li>
<li>We need a list of all “types” of cars and their fuel type for each
manufacturer<br></li>
<li>We want to compare the average city mpg for a compact car from each
manufacturer<br></li>
</ol></div>
</div>
</div>
<p><strong>(I copied these from excercise 6 in the google doc… but I’m
not sure that they are getting at the point of the lesson…)</strong></p>
<div id="another-excercise" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="another-excercise" class="callout-inner">
<h3 class="callout-title">Another Excercise</h3>
<div class="callout-content">
<p>Each of the following examples needs your help to create a dataset
that will correctly reproduce the given result and/or warning message
when the code is run. Fix the dataset shown or fill in the blanks so it
reproduces the problem.</p>
<ol style="list-style-type: upper-alpha"><li>
<code>set.seed(1)</code>
<code>sample_data &lt;- data.frame(fruit = rep(c(“apple”, “banana”), 6), weight = rnorm(12))</code>
<code>ggplot(sample_data, aes(x = fruit, y = weight)) + geom_boxplot()</code>
<strong>HELP: how do I insert an image from clipboard?? Is it even
possible?</strong>
</li>
<li>bodyweight &lt;- c(12, 13, 14, <strong>,</strong> ) max(bodyweight)
[1] NA</li>
<li>sample_data &lt;- data.frame(x = 1:3, y = 4:6) mean(sample_data<span class="math inline">\(x)
[1] NA
Warning message:
In mean.default(sample_data\)</span>x): argument is not numeric or
logical: returning NA</li>
<li>sample_data &lt;- ____ dim(sample_data) NULL</li>
</ol></div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<ol style="list-style-type: upper-alpha"><li>“fruit” needs to be a factor and the order of the levels must be
specified:
<code>sample_data &lt;- data.frame(fruit = factor(rep(c("apple", "banana"), 6), levels = c("banana",          "apple")), weight = rnorm(12))</code>
</li>
<li>one of the blanks must be an NA</li>
<li><strong>?? + what’s really the point of this one?</strong></li>
<li><code>sample_data &lt;- data.frame(x = factor(1:3), y = 4:6)</code></li>
</ol></div>
</div>
</div>
</div>
<p>Great work! We’ve created a minimal reproducible example. In the next
episode, we’ll learn about <a href="https://reprex.tidyverse.org" class="external-link">reprex</a>, a package that can
help us double-check that our example is reproducible by running it in a
clean environment. (As an added bonus, <a href="https://reprex.tidyverse.org" class="external-link">reprex</a> will format
our example nicely so it’s easy to post to places like Slack, GitHub,
and StackOverflow.)</p>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="3-minimal-reproducible-code.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="5-asking-your-question.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="3-minimal-reproducible-code.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Minimal Reproducible
        </a>
        <a class="chapter-link float-end" href="5-asking-your-question.html" rel="next">
          Next: Asking your question...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries-incubator/R-help-reprexes/edit/main/episodes/4-minimal-reproducible-data.Rmd" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries-incubator/R-help-reprexes/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries-incubator/R-help-reprexes/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries-incubator/R-help-reprexes/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:kgahm@ucla.edu">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.12" class="external-link">sandpaper (0.16.12)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.6" class="external-link">varnish (1.0.6)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://carpentries-incubator.github.io/R-help-reprexes/4-minimal-reproducible-data.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "R, reprex, help, The Carpentries, error, debug, reproducible example",
  "name": "Minimal Reproducible Data",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/R-help-reprexes/4-minimal-reproducible-data.html",
  "identifier": "https://carpentries-incubator.github.io/R-help-reprexes/4-minimal-reproducible-data.html",
  "dateCreated": "2024-05-14",
  "dateModified": "2025-06-10",
  "datePublished": "2025-06-10"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

